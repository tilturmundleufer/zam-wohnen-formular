@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap');

[data-theme="zam"] {
    --brand-primary: #0d2440;
    --brand-accent:  #fa4616;
    --brand-bg:      #eef2f7;
    --brand-text:    #111827;
    --success-bg:    #f0fdf4;
    --success-bd:    #dcfce7;
    --success-fg:    #064e3b;
    --error-bg:      #fff7f7;
    --error-bd:      #fbd5d5;
    --error-ring:    rgba(239,68,68,.15);
  
    --radius: 8px;
    --radius-sm: 6px;
    --shadow-1: 0 6px 24px rgba(0,0,0,.08);
    --shadow-2: 0 12px 32px rgba(0,0,0,.12);
  
    --input-bg: #fff;
    --input-bd: #e5e7eb;
    --input-bd-focus: var(--brand-accent);
    --focus-ring: 0 0 0 3px color-mix(in srgb, var(--brand-accent) 30%, transparent);
    --disabled-opacity: .6;
  }
  
  /* Force-hide any element with the hidden attribute (in case global CSS overrides UA styles) */
  [hidden] { display: none !important; }
  
  /* ============== Layout ============== */
  .zam-apply { padding: clamp(12px, 1.6vw, 24px); background: linear-gradient(180deg, color-mix(in srgb, var(--brand-accent) 6%, #fff) 0%, var(--brand-bg) 100%); color: var(--brand-text); border-radius: var(--radius); box-shadow: var(--shadow-1); font-family: 'Manrope', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
  .zam-apply__title { margin: 0 0 .25rem; font-size: clamp(1.4rem, 2vw, 2rem); line-height: 1.2; }
  .zam-apply__subtitle { margin: 0 0 .75rem; opacity: .85; }
  .zam-apply__image { margin: 0 0 .75rem; border-radius: var(--radius); overflow: hidden; background: #fff; border: 1px solid #eef0f4; box-shadow: var(--shadow-1); }
  .zam-apply__image img { display: block; width: 100%; height: clamp(160px, 30vw, 320px); object-fit: cover; }
  
  .zam-apply__info { background: #fff; border: 1px solid #eef0f4; border-radius: var(--radius); padding: .6rem; box-shadow: var(--shadow-1); }
  .zam-apply__facts { display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: 8px; list-style: none; padding: 0; margin: 0 0 .6rem; }
  .zam-apply__facts li { background: #fff; border: 1px solid #eef0f4; border-radius: var(--radius-sm); padding: .6rem .75rem; display: flex; justify-content: space-between; gap: .5rem; min-width: 0; }
  .zam-apply__facts li.wide { grid-column: 1 / -1; }
  .zam-apply__facts span { opacity: .7; }
  .zam-apply__facts strong { font-weight: 700; }
  
  /* Amenities inline */
  .amenities-list { list-style: none; padding: .6rem 0 0; margin: 0; display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 8px; }
  .amenities-list li { display: flex; align-items: flex-start; gap: .25rem; background: #fff; border: 1px solid #eef0f4; border-radius: var(--radius-sm); padding: .55rem .75rem; box-shadow: var(--shadow-1); }
  .amenity-key { font-weight: 700; }
  .amenity-sep { opacity: .6; padding: 0 .15rem; }
  .amenity-value { opacity: .95; }
  @media (max-width: 680px) { .amenities-list { grid-template-columns: 1fr; } }
  
  .zam-form { background: #fff; border: 1px solid #eef0f4; border-radius: var(--radius); padding: clamp(12px, 1.6vw, 16px); box-shadow: var(--shadow-1); }
  .form-progress { position: relative; height: 6px; background: #f3f4f6; border-radius: 999px; overflow: hidden; margin-bottom: 10px; }
  .form-progress__bar { height: 100%; width: 0%; background: var(--brand-accent); border-radius: 999px; transition: width .25s ease; }
  .form-grid { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); column-gap: 16px; row-gap: 10px; align-items: start; }
  .field--full { grid-column: 1 / -1; }
  .field--half { grid-column: span 2; }
  .field--two-thirds { grid-column: span 2; }
  .field--third { grid-column: span 1; }
  
  /* Field-Karten: dezente Box je Feld */
  .field { background: #fff; border: 1px solid #eef0f4; border-radius: var(--radius-sm); padding: .6rem .7rem; }
  .field label { display: block; font-weight: 600; margin: 0 0 .25rem; }
  .field input, .field select, .field textarea {
    width: 100%; border: 1px solid var(--input-bd); background: var(--input-bg);
    border-radius: 6px; padding: .5rem .7rem; font: inherit; color: inherit;
    transition: box-shadow .2s ease, border-color .2s ease, background-color .2s ease;
  }
  /* Date input wrapper + Trigger */
  .date-input { position: relative; }
  .date-input input[type="date"] { padding-right: 2.4rem; }
  .date-trigger { position: absolute; right: .4rem; top: 50%; transform: translateY(-50%); width: 30px; height: 30px; border: 1px solid #eef0f4; border-radius: 6px; background: #fff; display: grid; place-items: center; cursor: pointer; box-shadow: var(--shadow-1); }
  .date-trigger::before { content: ""; width: 18px; height: 18px; background: var(--brand-accent); -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g fill="none" stroke="%23fff" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4.5" width="18" height="16" rx="3"/><path d="M16 2.5v4M8 2.5v4M3 9.5h18"/></g></svg>') center/contain no-repeat; mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g fill="none" stroke="%23fff" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4.5" width="18" height="16" rx="3"/><path d="M16 2.5v4M8 2.5v4M3 9.5h18"/></g></svg>') center/contain no-repeat; }
  .date-trigger:hover { background: #f9fafb; }
  .date-trigger:focus { outline: none; box-shadow: var(--focus-ring); }
  .field input[type="date"]::-webkit-calendar-picker-indicator { opacity: 0; width: 24px; height: 24px; }
  .field input:focus, .field select:focus, .field textarea:focus {
    outline: none; border-color: var(--input-bd-focus); box-shadow: var(--focus-ring);
  }
  .field [aria-invalid="true"] {
    border-color: var(--error-bd);
    background: var(--error-bg);
    box-shadow: 0 0 0 3px var(--error-ring);
  }
  .field .error { min-height: 1.1em; color: #b42318; font-size: .9rem; margin-top: .25rem; }
  .field .help { min-height: 1.1em; color: #6b7280; font-size: .88rem; margin-top: .15rem; }
  .field.field--center { display: flex; align-items: center; }
  
  /* Datepicker: moderner Stil */
  .field input[type="date"] {
    min-height: 42px;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g fill="none" stroke="%23fa4616" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4.5" width="18" height="16" rx="3"/><path d="M16 2.5v4M8 2.5v4M3 9.5h18"/></g></svg>');
    background-repeat: no-repeat;
    background-position: right .75rem center;
    background-size: 18px 18px;
    padding-right: 2.2rem;
  }
  .field input[type="date"]:hover { border-color: color-mix(in srgb, var(--brand-accent) 25%, var(--input-bd)); }
  /* WebKit: Standard-Icon unsichtbar, aber klickbar lassen */
  .field input[type="date"]::-webkit-calendar-picker-indicator { opacity: 0; width: 22px; height: 22px; cursor: pointer; }
  /* WebKit: Innenleben etwas kompakter */
  .field input[type="date"]::-webkit-datetime-edit { padding: .15rem 0; }
  .field input[type="date"]::-webkit-inner-spin-button,
  .field input[type="date"]::-webkit-clear-button { display: none; }

  /* Flatpickr Breite & Spacing */
  .date-input { position: relative; }
  .date-input .flatpickr-calendar { width: 100% !important; top: calc(100% + 8px) !important; left: 0 !important; right: auto !important; }
  .flatpickr-calendar { box-shadow: var(--shadow-2); border: 1px solid #eef0f4; border-radius: var(--radius); padding: .6rem .8rem; z-index: 99999; }
  /* Sicherstellen, dass kein overflow die Anzeige verdeckt */
  .zam-apply, .zam-form, .field { overflow: visible; }
  .flatpickr-months { margin-bottom: .35rem; }
  .flatpickr-current-month { font-size: 1.25rem; }
  .flatpickr-weekdays { margin-bottom: .25rem; }
  .flatpickr-days { padding: .25rem 0 .1rem; }
  .flatpickr-day { margin: .15rem; width: 2.2em; height: 2.2em; line-height: 2.2em; border-radius: 8px; }
  .flatpickr-day.today { border-color: color-mix(in srgb, var(--brand-accent) 45%, #c7d2fe); }
  .flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange { background: var(--brand-accent); border-color: var(--brand-accent); color: #fff; }
  .flatpickr-day:hover { background: color-mix(in srgb, var(--brand-accent) 12%, #fff); }

  .checks .check { display: grid; grid-template-columns: 20px 1fr; gap: .5rem; align-items: start; }
  .checks input[type="checkbox"] { margin-top: .2rem; }
  
  .form-actions { display: flex; align-items: center; gap: 12px; margin-top: 10px; position: sticky; bottom: 0; background: #fff; padding: .5rem 0; }
  .form-note { opacity: .7; }
  .form-steps-nav { display: flex; justify-content: space-between; gap: 10px; margin-top: 10px; }
  .btn--secondary { background: #fff; color: var(--brand-primary); border: 1px solid #e5e7eb; box-shadow: var(--shadow-1); }
  .btn--secondary:hover { background: #f9fafb; }
  
.btn { display: inline-flex; align-items: center; gap: .5rem; border: none; border-radius: 6px;
    padding: .75rem 1.15rem; font-weight: 700; cursor: pointer; transition: transform .05s ease, box-shadow .2s ease, background-color .2s ease;
  }
.btn--primary { background: var(--brand-accent); color: #fff; box-shadow: var(--shadow-2); border: 1px solid color-mix(in srgb, var(--brand-accent) 40%, transparent); }
.btn--primary:hover { transform: translateY(-1px); filter: brightness(1.02); }
/* Buttons ohne Gradients generell */
#nextStepBtn.btn--primary, #submitBtn.btn--primary { background: var(--brand-accent); }
  .btn--primary:active { transform: translateY(0); }
  .btn[disabled] { opacity: var(--disabled-opacity); cursor: not-allowed; }
  .btn__spinner { width: 0.9em; height: 0.9em; border-radius: 999px; border: 2px solid #ffffff80; border-top-color: #fff; display: none; animation: spin .9s linear infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }
  
  .hp { position: absolute !important; left: -9999px !important; opacity: 0 !important; }
  
  .form-feedback { margin-top: 12px; background: var(--success-bg); border: 1px solid var(--success-bd); color: var(--success-fg); padding: 10px; border-radius: var(--radius-sm); }
  .form-feedback--error { background: #fef2f2; border-color: #fee2e2; color: #7f1d1d; }
  .form-info { margin: 10px 0 12px; background: #fff7ed; border: 1px solid #ffedd5; color: #7c2d12; padding: 10px; border-radius: var(--radius-sm); }
  .group-title h3 { margin: 8px 0 4px; font-size: 1rem; line-height: 1.2; opacity: .9; }
  /* Select: individueller Chevron in Akzentfarbe */
  .field select { -webkit-appearance: none; -moz-appearance: none; appearance: none; background-color: var(--input-bg);
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6" fill="none" stroke="%23fa4616" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>');
    background-repeat: no-repeat; background-position: right .75rem center; background-size: 14px; padding-right: 2rem;
  }

  /* CTA Toggle */
  .zam-apply__toggle { margin: 12px 0 14px; }
  .zam-apply__toggle summary {
    list-style: none; cursor: pointer; font-weight: 800; display: flex; justify-content: center; align-items: center; gap: .6rem;
    padding: .8rem 1rem; border-radius: 8px; background: var(--brand-accent); color: #fff; border: 1px solid color-mix(in srgb, var(--brand-accent) 40%, transparent); box-shadow: var(--shadow-2);
    transition: background-color .2s ease, border-color .2s ease, box-shadow .2s ease, transform .05s ease;
  }
  .zam-apply__toggle summary:hover { filter: brightness(1.05); }
  .zam-apply__toggle summary:active { transform: translateY(1px); }
  .zam-apply__toggle summary:focus { outline: none; box-shadow: var(--focus-ring); }
  .zam-apply__toggle summary::-webkit-details-marker { display: none; }
  .zam-apply__toggle[open] summary { filter: none; }
  /* kein Chevron mehr */
.chev { width: 1em; height: 1em; display: inline-block; background-color: currentColor; transition: transform .2s ease, opacity .2s ease; opacity: .9;
  -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path d="M9 18l6-6-6-6" fill="none" stroke="%23fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>') center/contain no-repeat;
          mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path d="M9 18l6-6-6-6" fill="none" stroke="%23fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>') center/contain no-repeat;
}

  /* Mobile Tweaks */
  @media (max-width: 1150px) {
    .zam-apply__facts { grid-template-columns: repeat(4, minmax(0,1fr)); }
  }
  /* Tablet Optimierung */
  @media (max-width: 1024px) {
    .form-grid { grid-template-columns: repeat(2, minmax(0,1fr)); column-gap: 14px; row-gap: 12px; }
    .zam-apply__image img { height: clamp(180px, 28vw, 280px); }
    .zam-apply__facts li { flex-direction: column; align-items: flex-start; gap: .25rem; }
  }
  @media (max-width: 880px) {
    .zam-apply__facts { grid-template-columns: repeat(3, minmax(0,1fr)); }
    .form-grid { grid-template-columns: repeat(2, minmax(0,1fr)); column-gap: 14px; row-gap: 12px; }
  }
  @media (max-width: 880px) {
    .form-grid { grid-template-columns: repeat(2, minmax(0,1fr)); }
    .field--half, .field--two-thirds, .field--full { grid-column: 1 / -1; }
  }
  @media (max-width: 680px) {
    .form-grid { grid-template-columns: 1fr; column-gap: 12px; row-gap: 12px; }
    .zam-apply__facts { grid-template-columns: repeat(2, minmax(0,1fr)); }
    .zam-apply__facts li.wide { grid-column: 1 / -1; }
    .field { padding: .7rem .8rem; }
    .field input, .field select, .field textarea { padding: .6rem .75rem; }
    .form-steps-nav .btn, .form-actions .btn { width: 100%; }
    .zam-apply__image img { height: clamp(160px, 42vw, 240px); }
  }
  
  @media (max-width: 1150px) {
    .zam-apply__facts { grid-template-columns: repeat(4, minmax(0,1fr)); }
  }
  @media (max-width: 680px) {
    .form-grid { grid-template-columns: 1fr; }
    .zam-apply__facts { grid-template-columns: 1fr 1fr; }
    .zam-apply__facts li.wide { grid-column: 1 / -1; }
  }